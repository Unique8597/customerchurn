$schema: https://azuremlschemas.azureedge.net/latest/commandJob.schema.json
type: command
name: customer-churn-training
display_name: "Customer Churn Training Job"

# Directory containing train.py and dependencies
code: ../src

# ---------------------------
# Environment (Python + dependencies)
# ---------------------------
environment:
  name: customer-churn-env
  conda_file: conda.yml
  docker:
    enabled: true

# ---------------------------
# Compute target
# ---------------------------
compute: cpu-cluster
instance_count: 2

# ---------------------------
# Command to run
# ---------------------------
command: >
  python model/train.py

# ---------------------------
# Outputs
# ---------------------------
outputs:
  artifacts:
    type: uri_folder
    path: azureml://datastores/workspaceblobstore/paths/artifacts/